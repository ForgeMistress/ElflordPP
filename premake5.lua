------------------------------------------------------------------------------------------------------------------------
--
--  ElflordPP/premake5.lua
--
--  This file is part of the Elflord Engine.
--
------------------------------------------------------------------------------------------------------------------------
--  Copyright (c) 2018 Miki Ryan
------------------------------------------------------------------------------------------------------------------------

------------------------------------------------------------------------------------------------------------------------
--  GLOBAL SETUP
------------------------------------------------------------------------------------------------------------------------
include("precore")

------------------------------------------------------------------------------------------------------------------------
--  WORKSPACE DEFINITION
------------------------------------------------------------------------------------------------------------------------
workspace("ElflordPP")

------------------------------------------------------------------------------------------------------------------------
--  LIBRARIES
------------------------------------------------------------------------------------------------------------------------
staticlib('libCore')

staticlib('libMirror', {
    depends = { 
        'libCore', 
    };
    incdirs = {
        "ThirdParty/rttr/src",
        "ThirdParty/rttr/build/src",
    };
    post = function()
        filter({ "configurations:Debug*" });   links({ "librttr_core_d" })
        filter({ "configurations:Release*" }); links({ "librttr_core" })
    end;
})
staticlib('libExistence', {
    depends = { 
        'libCore', 
        'libMirror',
    };
})

staticlib('libHarnessed', {
    depends = { 'libCore' };
})


------------------------------------------------------------------------------------------------------------------------
--  UNIT TESTS
------------------------------------------------------------------------------------------------------------------------
unittest('libHarnessed')
unittest('libExistence', {
    depends = { 
        'libCore',
        'libMirror'
    };
})
unittest('libMirror', {
    depends = {
        'libCore',
        'libMirror'
    };
})

